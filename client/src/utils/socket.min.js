import{Manager}from"socket.io-client";class SocketBuilder{#socket=null;#socketManager=new Manager("http://localhost:3001");constructor(){}connect({path:path,data:data}){this.path=path,this.data=data,this.#init()}#init(){this.#socket||(this.#socket=this.#socketManager.socket(this.path,{auth:this.data}),this.#socket.on("error",(error=>{console.error("Sockect error:",error)})))}disconnect(){this.#socket&&(this.#socket.disconnect(),this.#socket=null)}send({opt:opt,data:data}){console.log(opt,data),this.#socket&&(console.log(this.#socket),this.#socket.emit(opt,data,(mgs=>{console.log("hello",mgs)})))}receive({opt:opt},callback){this.#socket&&this.#socket.on(opt,(msg=>{callback(msg)}))}open({opt:opt,data:data}){this.#socket&&this.#socket.emit(opt,data)}}const mainSocket=new SocketBuilder;export const socketConnect=data=>{mainSocket.connect({path:"/main",data:data})};export const socketDisconnect=()=>{mainSocket.disconnect()};export{SocketBuilder};